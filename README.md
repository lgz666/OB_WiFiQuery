# PocketFlow - 欧本随身 WiFi 流量查询脚本

一个用于自动化查询和监控欧本随身 WiFi 流量信息的 Python 脚本。

## 简介

本项目旨在为使用欧本随身 WiFi 设备的用户提供一个方便的流量查询解决方案。通过部署此脚本到定时任务平台（如青龙面板），你可以自动获取设备号的流量使用情况，而无需手动登录查询。

## 主要特性

- **自动 API 发现**: 脚本会自动获取最新的 API 接口地址，无需手动更新。
- **多设备支持**: 支持同时查询多个设备号，只需在环境变量中配置即可。


## 使用方法

### 1. 部署脚本

 **定时任务** 页面，点击 **创建任务**，然后填写以下信息：
- **名称**: `PocketFlow` (或你喜欢的任何名字)
- **命令**: `ql raw https://raw.githubusercontent.com/lgz666/OB_WiFiQuery/main/ob_mifi.py`
- **定时规则**: `0 * * * *` (示例：每小时运行一次)

### 2. 配置环境变量

你需要为脚本配置一个核心环境变量：
- **名称**: `WIFI_DEV_NOS`
- **值**: 你的设备号。如果有多个设备，请用英文 `&` 符号连接。
  例如: `86825xxxxx&8914xxxxx`

- **`PUSH_MODE`**: **选填。** 推送模式，可选值：
  - `full` (详细推送，包含所有可读字段)
  - `simple` (精简推送，只包含核心信息)
  - `off` (关闭推送，只在日志中打印结果)
  如果未设置，默认为 `simple` 模式。


#### 配置推送服务 (可选)
根据你选择的推送服务，设置对应的环境变量。如果你不希望使用推送功能，可以跳过此步骤。
| 推送服务 | 环境变量名 |
|:---|:---|
| **企业微信机器人** | `WECHAT_ROBOT_WEBHOOK` |
| **Server酱** | `SERVERJANG_SCKEY` |
| **Bark** | `BARK_PUSH_URL` |
| **PushPlus** | `PUSHPLUS_TOKEN` |
| **钉钉机器人** | `DINGTALK_WEBHOOK` |
| **飞书机器人** | `FEISHU_WEBHOOK` |
| **WxPusher** | `WXPUSHER_APP_TOKEN` 和 `WXPUSHER_UIDS` (多个 UID 用 `&` 连接) |


### 3. 查看运行结果

脚本运行后，你可以在任务的运行日志中查看每个设备的流量查询结果。

